{
  "$schema": "http://json-schema.org/draft-06/schema#",
	"description": "",
	"type": "object",
	"definitions": {
		"List-def": {
			"hardware": {
				"type": "array",
				"uniqueItems": true,
				"minItems": 1,
				"items": {
					"properties": {
						"id": {
							"type": "string",
							"minLength": 1
						},
						"name": {
							"type": "string",
							"minLength": 1
						},
						"type": {
							"type": "string",
							"minLength": 1,
							"enum": [
								"drive", "input", "magnet"
							]
						}
					},
					"required": [
						"id", "type"
					],
					"anyOf": [
						{
							"$ref": "#/definitions/Hardware-def/input"
						}, {
							"$ref": "#/definitions/Hardware-def/drive"
						}, {
							"$ref": "#/definitions/Hardware-def/magnet"
						}
					]
				}
			},
			"channels": {
				"type": "array",
				"uniqueItems": true,
				"minItems": 1,
				"items": {
					"properties": {
						"id": {
							"type": "string",
							"minLength": 1
						},
						"name": {
							"type": "string",
							"minLength": 1
						},
						"type": {
							"type": "string",
							"minLength": 1,
							"enum": [
								"DigitalInput", "DigitalInputByte", "DigitalOutput", "DigitalOutputByte"
							]
						}
					},
					"required": [
						"id", "type"
					],
					"additionalProperties": false
				}
			},
			"moduleChannels": {
				"type": "array",
				"uniqueItems": true,
				"minItems": 1,
				"items": {
					"properties": {
						"name": {
							"type": "string",
							"minLength": 1
						},
						"type": {
							"type": "string",
							"minLength": 1,
							"enum": [
								"DigitalInput", "DigitalInputByte", "DigitalOutput", "DigitalOutputByte"
							]
						},
						"machineChannelId": {
							"type": "string",
							"minLength": 1
						}
					},
					"required": [
						"name", "type", "machineChannelId"
					],
					"additionalProperties": false
				}
			},
			"quadrant": {
				"type": "number",
				"enum": [
					1, 2, 3, 4
				]
			},
			"resetSafetyRelayChannels": {
				"type": "array",
				"uniqueItems": true,
				"items": {
					"required": [
						"id", "type", "channels"
					],
					"additionalProperties": false,
					"properties": {
						"id": {
							"type": "string",
							"minLength": 1
						},
						"type": {
							"type": "string",
							"minLength": 1,
							"enum": [
								"safetyRelay"
							]
						},
						"channels": {
							"$ref": "#/definitions/List-def/channels"
						}
					}
				}
			},
			"sectionMachineIds": {
				"type": "array",
				"uniqueItems": true,
				"minItems": 1,
				"items": {
					"required": [
						"id"
					],
					"additionalProperties": false,
					"properties": {
						"id": {
							"type": "string",
							"minLength": 1
						}
					}
				}
			},
			"sectionAddOnIds": {
				"type": "array",
				"minItems": 1,
				"uniqueItems": true,
				"items": {
					"required": [
						"id"
					],
					"additionalProperties": false,
					"properties": {
						"id": {
							"type": "string",
							"minLength": 1
						}
					}
				}
			}
		},
		"Machine-def": {
			"visual3DMachine": {
				"type": "object",
				"properties": {
					"inRightMM": {
						"type": "number",
						"default": 1000
					},
					"inForwardMM": {
						"type": "number",
						"default": -1000
					},
					"inUpMM": {
						"type": "number",
						"default": 1000
					},
					"outRightMM": {
						"type": "number",
						"default": 2000
					},
					"outForwardMM": {
						"type": "number",
						"default": -1000
					},
					"outUpMM": {
						"type": "number",
						"default": 1000
					},
					"inPoles": {
						"type": "boolean",
						"default": true
					},
					"outPoles": {
						"type": "boolean",
						"default": true
					},
					"transportRotation": {
						"default": 90,
						"enum": [
							0, 90, 180, -90
						]
					}
				}
			},
			"machine": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string",
						"minLength": 1
					},
					"type": {
						"type": "string",
						"minLength": 1,
						"enum": [
							"machine", "conveyor", "bufferconveyor", "rejectconveyor", "end_unit", "front_unit", "pushupconveyor", "crossconveyor", "cornerconveyor", "crossoverconveyor", "shootconveyor", "manualpickupconveyor"
						]
					},
					"hardware": {
						"type": "array",
						"uniqueItems": true,
						"items": {
							"required": [
								"id", "type"
							],
							"anyOf": [
								{
									"$ref": "#/definitions/Hardware-def/input"
								}, {
									"$ref": "#/definitions/Hardware-def/drive"
								}, {
									"$ref": "#/definitions/Machine-def/packinglaneset"
								}, {
									"$ref": "#/definitions/Hardware-def/externalDevice"
								}, {
									"$ref": "#/definitions/Hardware-def/externalDeviceMR"
								}, {
									"$ref": "#/definitions/Hardware-def/externalDeviceOmnia"
								}, {
									"$ref": "#/definitions/Hardware-def/button"
								}
							],
							"properties": {
								"id": {
									"type": "string",
									"minLength": 1
								},
								"type": {
									"type": "string",
									"minLength": 1,
									"enum": [
										"drive", "input", "packinglaneset", "button", "externalDevice"
									]
								},
								"driveType": {
									"type": "string",
									"minLength": 1,
									"enum": [
										"ABI", "MBS", "LUST", "Piston", "X64"
									]
								},
								"deviceType": {
									"type": "string",
									"minLength": 1,
									"enum": [
										"OMNIA", "MR", "PRODUCT", "IO", "PTS"
									]
								},
								"normalMovementTime": {
									"type": "number"
								},
								"resetMovementTime": {
									"type": "number"
								},
								"lowDriveSpeed": {
									"type": "number",
									"default": 18.0,
									"minimum": 0
								},
								"normalDriveSpeed": {
									"type": "number",
									"default": 25.5,
									"minimum": 0
								},
								"highDriveSpeed": {
									"type": "number",
									"default": 40.0,
									"minimum": 0
								}
							}
						}
					},
					"handoverBehaviour": {
						"type": "object",
						"additionalProperties": false,
						"properties": {
							"type": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"crossing", "corner", "default"
								]
							},
							"shootOffset": {
								"type": "number"
							},
							"transferOffsetZ": {
								"type": "number"
							},
							"packRotation": {
								"type": "number"
							},
							"packDistance": {
								"type": "number"
							}
						},
						"required": [
							"type"
						]
					},
					"machines": {
						"type": "array",
						"uniqueItems": true,
						"items": {
							"anyOf": [
								{
									"$ref": "#/definitions/Machine-def/machine"
								}, {
									"$ref": "#/definitions/Machine-def/conveyor"
								}, {
									"$ref": "#/definitions/Machine-def/bufferconveyor"
								}, {
									"$ref": "#/definitions/Machine-def/rejectconveyor"
								}, {
									"$ref": "#/definitions/Machine-def/end_unit"
								}, {
									"$ref": "#/definitions/Machine-def/front_unit"
								}, {
									"$ref": "#/definitions/Machine-def/pushupconveyor"
								}, {
									"$ref": "#/definitions/Machine-def/crossconveyor"
								}, {
									"$ref": "#/definitions/Machine-def/cornerconveyor"
								}, {
									"$ref": "#/definitions/Machine-def/crossoverconveyor"
								}, {
									"$ref": "#/definitions/Machine-def/shootconveyor"
								}, {
									"$ref": "#/definitions/Machine-def/manualpickupconveyor"
								}
							],
							"properties": {
								"type": {
									"type": "string",
									"minLength": 1,
									"enum": [
										"machine", "conveyor", "bufferconveyor", "rejectconveyor", "end_unit", "front_unit", "pushupconveyor", "crossconveyor", "cornerconveyor", "crossoverconveyor", "shootconveyor", "manualpickupconveyor"
									]
								}
							},
							"required": [
								"type"
							]
						}
					},
					"addOns": {
						"type": "array",
						"uniqueItems": true,
						"items": {
							"required": [
								"id", "type", "positionForwardMM"
							],
							"oneOf": [
								{
									"$ref": "#/definitions/AddOn-def/scanner"
								}, {
									"$ref": "#/definitions/AddOn-def/packAssignmentScanner"
								}, {
									"$ref": "#/definitions/AddOn-def/checkSpace"
								}, {
									"$ref": "#/definitions/AddOn-def/crossOver"
								}, {
									"$ref": "#/definitions/AddOn-def/openPack"
								}, {
									"$ref": "#/definitions/AddOn-def/bufferManager"
								}, {
									"$ref": "#/definitions/AddOn-def/pressureRoller"
								}, {
									"$ref": "#/definitions/AddOn-def/cover"
								}, {
									"$ref": "#/definitions/AddOn-def/lineSorter"
								}, {
									"$ref": "#/definitions/AddOn-def/missedPack"
								}, {
									"$ref": "#/definitions/AddOn-def/corner"
								}, {
									"$ref": "#/definitions/AddOn-def/packRotationUnit"
								}, {
									"$ref": "#/definitions/AddOn-def/trayRotationUnit"
								}, {
									"$ref": "#/definitions/AddOn-def/toplidder"
								}
							],
							"properties": {
								"id": {
									"type": "string",
									"minLength": 1
								},
								"type": {
									"type": "string",
									"minLength": 1,
									"enum": [
										"LineSorter", "openpack", "checkspace", "pressureroller", "scanner", "cover", "crossover", "corner", "missedpack", "buffermanager", "packassignmentscanner", "packRotationUnit", "TrayRotationUnit", "toplidder"
									]
								},
								"positionForwardMM": {
									"type": "number"
								},
								"quadrant": {
									"$ref": "#/definitions/List-def/quadrant"
								},
								"addOnLengthMM": {
									"type": "number"
								},
								"addOnHeightMM": {
									"type": "number"
								},
								"addOnWidthMM": {
									"type": "number"
								},
								"addOnType": {
									"type": "string"
								},
								"model": {
									"type": "string",
									"minLength": 1
								},
								"hardware": {
									"$ref": "#/definitions/List-def/hardware"
								}
							}
						}
					}
				}
			},
			"transport": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/machine"
					}, {
						"properties": {
							"transportLengthMM": {
								"type": "number",
								"minimum": 400
							},
							"transportWidthMM": {
								"type": "number",
								"minimum": 260,
								"default": 260
							},
							"outputId": {
								"type": "string",
								"minLength": 1
							},
							"guideOffsetLeft": {
								"type": "number",
								"default": 0
							},
							"guideOffsetRight": {
								"type": "number",
								"default": 0
							},
							"permissionToSupplyDelayMM": {
								"type": "integer",
								"default": 0
							},
							"defaultPackRotation": {
								"default": "0",
								"enum": [
									"0", "PI", "PI_2", "-PI_2"
								]
							},
							"addOns": {
								"type": "array",
								"uniqueItems": true,
								"items": {
									"required": [
										"id", "type", "positionForwardMM"
									],
									"oneOf": [
										{
											"$ref": "#/definitions/AddOn-def/scanner"
										}, {
											"$ref": "#/definitions/AddOn-def/packAssignmentScanner"
										}, {
											"$ref": "#/definitions/AddOn-def/checkSpace"
										}, {
											"$ref": "#/definitions/AddOn-def/crossOver"
										}, {
											"$ref": "#/definitions/AddOn-def/openPack"
										}, {
											"$ref": "#/definitions/AddOn-def/bufferManager"
										}, {
											"$ref": "#/definitions/AddOn-def/pressureRoller"
										}, {
											"$ref": "#/definitions/AddOn-def/cover"
										}, {
											"$ref": "#/definitions/AddOn-def/lineSorter"
										}, {
											"$ref": "#/definitions/AddOn-def/missedPack"
										}, {
											"$ref": "#/definitions/AddOn-def/corner"
										}, {
											"$ref": "#/definitions/AddOn-def/packRotationUnit"
										}, {
											"$ref": "#/definitions/AddOn-def/trayRotationUnit"
										}, {
											"$ref": "#/definitions/AddOn-def/toplidder"
										}
									],
									"properties": {
										"id": {
											"type": "string",
											"minLength": 1
										},
										"type": {
											"type": "string",
											"minLength": 1,
											"enum": [
												"LineSorter", "openpack", "checkspace", "pressureroller", "scanner", "cover", "crossover", "corner", "missedpack", "buffermanager", "packassignmentscanner", "packRotationUnit", "TrayRotationUnit", "toplidder"
											]
										},
										"positionForwardMM": {
											"type": "number"
										},
										"quadrant": {
											"$ref": "#/definitions/List-def/quadrant"
										},
										"addOnLengthMM": {
											"type": "number"
										},
										"addOnHeightMM": {
											"type": "number"
										},
										"addOnWidthMM": {
											"type": "number"
										},
										"addOnType": {
											"type": "string"
										},
										"model": {
											"type": "string",
											"minLength": 1
										},
										"hardware": {
											"$ref": "#/definitions/List-def/hardware"
										}
									}
								}
							},
							"handoverBehaviour": {
								"type": "object",
								"additionalProperties": false,
								"properties": {
									"type": {
										"type": "string",
										"minLength": 1,
										"enum": [
											"crossing", "corner", "default"
										]
									},
									"shootOffset": {
										"type": "number"
									},
									"transferOffsetZ": {
										"type": "number"
									},
									"packRotation": {
										"type": "number"
									},
									"packDistance": {
										"type": "number"
									}
								},
								"required": [
									"type"
								]
							}
						}
					}
				]
			},
			"conveyor": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/transport"
					}, {
						"$ref": "#/definitions/Machine-def/visual3DMachine"
					}, {
						"properties": {
							"driveRatio": {
								"type": "number"
							},
							"minimumMoveDistance": {
								"type": "number"
							},
							"simulatedPackSpeedFactor": {
								"type": "number"
							},
							"outputcontroller": {
								"type": "object",
								"properties": {
									"setDestinationOffsetMM": {
										"type": "number",
										"minimum": 0
									},
									"enablePackCreation": {
										"type": "boolean",
										"default": false
									},
									"algorithm": {
										"type": "string",
										"default": "equal",
										"enum": [
											"equal", "OddEven", "product"
										]
									},
									"outputHandlers": {
										"type": "array",
										"minItems": 1,
										"items": {
											"transportId": {
												"type": "string",
												"minLength": 1
											},
											"addOnId": {
												"type": "string",
												"minLength": 1
											},
											"outputId": {
												"type": "string",
												"minLength": 1
											}
										}
									},
									"triggerId": {
										"type": "string",
										"minLength": 1
									}
								}
							}
						}
					}
				]
			},
			"bufferconveyor": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/conveyor"
					}, {
						"properties": {
							"maxDriveDistanceMM": {
								"type": "number",
								"default": 400,
								"minimum": 0
							},
							"delayDistanceNormalMM": {
								"type": "number",
								"default": 0,
								"minimum": 0
							}
						}
					}
				]
			},
			"rejectconveyor": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/conveyor"
					}, {
						"properties": {
							"rollConveyor": {
								"type": "boolean",
								"default": false
							},
							"maxDriveTimeMS": {
								"type": "number",
								"default": 1000,
								"minimum": 1000
							},
							"maxFullCount": {
								"type": "integer",
								"default": 3,
								"minimum": 1
							},
							"motorRunningMultiplier": {
								"type": "number",
								"default": 2.1,
								"minimum": 0
							}
						},
						"required": [
							"rollConveyor"
						]
					}
				]
			},
			"end_unit": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/transport"
					}, {
						"$ref": "#/definitions/Machine-def/visual3DMachine"
					}
				]
			},
			"front_unit": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/transport"
					}, {
						"$ref": "#/definitions/Machine-def/visual3DMachine"
					}
				],
				"properties": {
					"packGeneration": {
						"default": "interval",
						"enum": [
							"interval", "random", "pullup", "omnia"
						]
					},
					"timeInterval": {
						"type": "number",
						"default": 3000,
						"minimum": 1000,
						"maximum": 12000
					},
					"packRotation": {
						"type": "boolean",
						"default": false
					}
				},
				"required": [
					"packGeneration", "timeInterval"
				]
			},
			"pushupconveyor": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/transport"
					}, {
						"properties": {
							"pullUpModeEnabled": {
								"type": "boolean"
							},
							"beltEmptySettingMM": {
								"type": "integer"
							},
							"pushBeltLengthMM": {
								"type": "integer"
							},
							"bufferBeltLengthMM": {
								"type": "integer",
								"default": 1200,
								"minimum": 0
							},
							"driveRatio": {
								"type": "number"
							},
							"stopDelayDistanceMM": {
								"type": "integer",
								"default": 0,
								"minimum": 0
							},
							"maxPacksOnBuffer": {
								"type": "integer",
								"default": 8,
								"minimum": 4
							}
						}
					}
				]
			},
			"crossconveyor": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/conveyor"
					}, {
						"properties": {
							"reservationAlgorithm": {
								"default": "default",
								"enum": [
									"default", "middleSlot", "spacy"
								]
							},
							"SpeedWarningTolerancePercentage": {
								"type": "number",
								"default": 0,
								"minimum": 0,
								"maximum": 100
							},
							"slotPackDepthFactor": {
								"type": "number",
								"default": 2.0,
								"minimum": 0
							},
							"slotPackWidthFactor": {
								"type": "number",
								"default": 1.0,
								"minimum": 0
							},
							"minimumSlotWidth": {
								"type": "integer",
								"default": 490,
								"minimum": 490
							}
						}
					}
				]
			},
			"cornerconveyor": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/conveyor"
					}, {
						"properties": {
							"radius": {
								"type": "number"
							},
							"turnDirection": {
								"type": "string",
								"minLength": 1
							}
						}
					}
				]
			},
			"crossoverconveyor": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/conveyor"
					}
				]
			},
			"shootconveyor": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/conveyor"
					}, {
						"properties": {
							"stopDelayDistanceMM": {
								"type": "integer",
								"default": 0,
								"minimum": 0
							}
						}
					}
				]
			},
			"manualpickupconveyor": {
				"allOf": [
					{
						"$ref": "#/definitions/Machine-def/conveyor"
					}, {
						"properties": {
							"rollConveyor": {
								"type": "boolean",
								"default": false
							},
							"delayTimeToStartSupplyUS": {
								"type": "integer",
								"minimum": 0
							},
							"delayTimeToStopSupplyUS": {
								"type": "integer",
								"default": 500000,
								"minimum": 0
							}
						}
					}
				]
			},
			"packinglaneset": {
				"type": "object",
				"properties": {
					"inputlanes": {
						"type": "array",
						"uniqueItems": true,
						"minItems": 1,
						"maxItems": 2,
						"items": {
							"properties": {
								"id": {
									"type": "string",
									"minLength": 1
								},
								"type": {
									"type": "string",
									"minLength": 1,
									"default": "inputlane",
									"enum": [
										"inputlane"
									],
									"default": "inputlane"
								},
								"stopDelayDistanceMM": {
									"type": "number"
								},
								"inputId": {
									"type": "string",
									"minLength": 1
								},
								"quadrant": {
									"$ref": "#/definitions/List-def/quadrant"
								},
								"input": {
									"$ref": "#/definitions/Hardware-def/input"
								}
							}
						}
					},
					"positionForwardMM": {
						"type": "number"
					}
				}
			}
		},
		"AddOn-def": {
			"addon": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string",
						"minLength": 1
					},
					"name": {
						"type": "string",
						"minLength": 1
					},
					"quadrant": {
						"$ref": "#/definitions/List-def/quadrant"
					},
					"positionForwardMM": {
						"type": "number",
						"minimum": -200,
						"default": 0
					},
					"addOnLengthMM": {
						"type": "integer",
						"minimum": 0,
						"default": 0
					},
					"addOnHeightMM": {
						"type": "integer",
						"minimum": 0,
						"default": 0
					},
					"model": {
						"type": "string",
						"minLength": 1
					},
					"hardware": {
						"$ref": "#/definitions/List-def/hardware"
					}
				}
			},
			"scanner": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"scanner"
								]
							},
							"ipaddress": {
								"type": "string",
								"minLength": 1
							},
							"protocoltype": {
								"type": "string",
								"minLength": 1
							},
							"portnr": {
								"type": "number"
							},
							"packDetectionArea": {
								"type": "number"
							},
							"noReadMax": {
								"type": "number"
							},
							"printQualityCheck": {
								"type": "boolean"
							},
							"enablePackCorrection": {
								"type": "boolean"
							}
						}
					}
				]
			},
			"packRotationUnit": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"packRotationUnit"
								]
							},
							"transportFrictionProcentage": {
								"type": "number"
							},
							"maxSupportedPackWidth": {
								"type": "number"
							},
							"connectedRight": {
								"type": "boolean"
							},
							"activeOnPackRotationDegree": {
								"type": "number"
							},
							"rotationUnitDeploySensor": {
								"type": "object"
							}
						}
					}
				]
			},
			"trayRotationUnit": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"TrayRotationUnit"
								]
							},
							"transportFrictionProcentage": {
								"type": "number"
							},
							"rotatePackWithWidth": {
								"type": "number"
							},
							"connectedRight": {
								"type": "boolean"
							}
						}
					}
				]
			},
			"packAssignmentScanner": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"packassignmentscanner"
								]
							},
							"ipaddress": {
								"type": "string",
								"minLength": 1
							},
							"protocoltype": {
								"type": "string",
								"minLength": 1
							},
							"portnr": {
								"type": "number"
							}
						}
					}
				]
			},
			"checkSpace": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"checkspace"
								]
							},
							"distanceBetweenPackMM": {
								"type": "number",
								"minimum": 0
							},
							"packDistanceOffsetMM": {
								"type": "number",
								"minimum": 0
							},
							"extraStopDistanceMM": {
								"type": "number",
								"minimum": 0
							},
							"startTransferMM": {
								"type": "number"
							}
						}
					}
				]
			},
			"lineSorter": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"LineSorter"
								]
							},
							"numberOfBlades": {
								"type": "number"
							},
							"PushDistanceMM": {
								"type": "number"
							},
							"pushDelayMMSpeed1": {
								"type": "number"
							},
							"pushDelayMMSpeed2": {
								"type": "number"
							},
							"bladeStartPosition": {
								"type": "number"
							},
							"inputRight": {
								"type": "boolean"
							},
							"bladeCenterMM": {
								"type": "number"
							},
							"bladeWidthMM": {
								"type": "number"
							},
							"transportFrictionProcentage": {
								"type": "number"
							},
							"homeSensor": {
								"type": "object"
							},
							"triggerSensor": {
								"type": "object"
							},
							"exitSensor": {
								"type": "object"
							},
							"safetyCircuit": {
								"type": "object"
							},
							"outputId": {
								"type": "string"
							}
						}
					}
				]
			},
			"toplidder": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"toplidder"
								]
							},
							"unitPackSensorId": {
								"type": "string",
								"minLength": 1
							},
							"trayStockSensorId": {
								"type": "string",
								"minLength": 1
							},
							"trayBufferSensorId": {
								"type": "string",
								"minLength": 1
							},
							"dropPositionSensorId": {
								"type": "string",
								"minLength": 1
							},
							"motorHomeSensorId": {
								"type": "string",
								"minLength": 1
							},
							"motorCleaningSensorId": {
								"type": "string",
								"minLength": 1
							},
							"denesterCleaningModeSensorId": {
								"type": "string",
								"minLength": 1
							},
							"denesterAutoModeSensorId": {
								"type": "string",
								"minLength": 1
							},
							"dropTrayMagnetId": {
								"type": "string",
								"minLength": 1
							},
							"distanceMMBeforeDrop": {
								"type": "number",
								"minimum": 0
							},
							"distanceMMAfterDrop": {
								"type": "number",
								"minimum": 0
							},
							"nrOfTraysAfterStockWarning": {
								"type": "number",
								"minimum": 0
							},
							"nrOfPacksBetweenTrays": {
								"type": "number",
								"default": 0,
								"minimum": 0
							},
							"nrOfRetriesBeforeTrayError": {
								"type": "number",
								"default": 2,
								"minimum": 0
							},
							"ptsBufferDistanceMM": {
								"type": "number",
								"default": 800,
								"minimum": 0
							}
						}
					}
				]
			},
			"crossOver": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"crossover"
								]
							},
							"pushDistanceMM": {
								"type": "number"
							},
							"numberOfPushers": {
								"type": "number"
							},
							"distanceToPusherEndMM": {
								"type": "number"
							},
							"startPushOffsetMM": {
								"type": "number"
							},
							"homeSensorOffsetMM": {
								"type": "number"
							},
							"homeSensorwidthMM": {
								"type": "number"
							},
							"outputId": {
								"type": "string"
							},
							"UnknownItemsAllowed": {
								"type": "boolean"
							},
							"minimumFlushTime": {
								"type": "number"
							},
							"XOffsetOnSuccessorConveyor": {
								"type": "number"
							}
						}
					}
				]
			},
			"openPack": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"openpack"
								]
							},
							"motorStopOffsetMM": {
								"type": "number"
							},
							"rejectTypes": {
								"type": "array",
								"uniqueItems": false,
								"minItems": 1,
								"items": {
									"type": "string",
									"enum": [
										"low", "high", "isvalid", "unknown", "rejected", "outoftrack"
									]
								}
							}
						}
					}
				]
			},
			"pressureRoller": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"pressureroller"
								]
							}
						}
					}
				]
			},
			"cover": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"cover"
								]
							}
						}
					}
				]
			},
			"missedPack": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"missedpack"
								]
							}
						}
					}
				]
			},
			"corner": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"corner"
								]
							}
						}
					}
				]
			},
			"bufferManager": {
				"allOf": [
					{
						"$ref": "#/definitions/AddOn-def/addon"
					}, {
						"properties": {
							"type": {
								"enum": [
									"buffermanager"
								]
							},
							"maximumactivepackages": {
								"type": "number"
							},
							"bufferconveyors": {
								"type": "array",
								"uniqueItems": true,
								"minItems": 1,
								"items": {
									"type": "array",
									"minItems": 1,
									"items": {
										"type": "string",
										"minLength": 1
									}
								}
							}
						}
					}
				]
			}
		},
		"Hardware-def": {
			"machineHardware": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string",
						"minLenght": 1
					},
					"type": {
						"type": "string",
						"minLength": 1
					},
					"channels": {
						"$ref": "#/definitions/List-def/channels"
					}
				}
			},
			"button": {
				"allOf": [
					{
						"$ref": "#/definitions/Hardware-def/machineHardware"
					}, {
						"properties": {
							"command": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"start", "emstop", "stop", "reset", "hold", "acknowledge"
								]
							},
							"buttonType": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"switch", "emstop", "push"
								]
							},
							"keepStateOnStop": {
								"type": "boolean"
							},
							"buttonBehaviour": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"normalClosed", "normal"
								]
							},
							"numberOfSelections": {
								"type": "number"
							},
							"inputInverted": {
								"type": "boolean"
							},
							"maxDelayOnTimeMS": {
								"type": "number",
								"minimum": 0
							}
						}
					}
				]
			},
			"buzzer": {
				"allOf": [
					{
						"$ref": "#/definitions/Hardware-def/machineHardware"
					}, {
						"properties": {
							"numberOfBeepsDirectAttention": {
								"type": "number",
								"default": 3
							},
							"attentionRepeatTimeUS": {
								"type": "number",
								"default": 10000000
							},
							"action": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"running", "error", "attention", "warning"
								]
							}
						}
					}
				]
			},
			"light": {
				"allOf": [
					{
						"$ref": "#/definitions/Hardware-def/machineHardware"
					}, {
						"properties": {
							"color": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"orange", "yellow", "blue", "green", "red", "white", "black"
								]
							},
							"action": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"running", "error", "attention", "warning"
								]
							}
						}
					}
				]
			},
			"input": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string",
						"minLength": 1
					},
					"name": {
						"type": "string",
						"minLength": 1
					},
					"channels": {
						"$ref": "#/definitions/List-def/channels"
					},
					"inputType": {
						"type": "string",
						"default": "reflector",
						"enum": [
							"fixed-field", "diffuse", "reflector", "proximity", "interlock"
						]
					},
					"positionForwardMM": {
						"type": "number",
						"default": 0,
						"minimum": -300
					},
					"positionReflectorForwardMM": {
						"type": "number",
						"default": 0,
						"minimum": -300
					},
					"heightMM": {
						"type": "number",
						"default": 50,
						"minimum": 0
					},
					"inputBehaviour": {
						"type": "string",
						"default": "normal",
						"enum": [
							"interlock", "emergency", "maxHigh", "maxLow", "edgePos", "edgeNeg", "normal", "compact", "check", "corner", "trigger"
						]
					},
					"packCorrectionMethod": {
						"type": "string",
						"default": "normal",
						"enum": [
							"lastPack", "disabled", "normal", "packInArea"
						]
					},
					"splitPackSupport": {
						"type": "boolean",
						"default": false
					},
					"jitterMinPackWidth": {
						"type": "number",
						"default": 130,
						"minimum": 0
					},
					"inputBehaviourDistanceMM": {
						"type": "number",
						"default": 650,
						"minimum": 0
					},
					"defaultSimulatedValue": {
						"type": "boolean",
						"default": false
					},
					"inputInverted": {
						"type": "boolean",
						"default": false
					},
					"ecoSensor": {
						"type": "boolean",
						"default": false
					},
					"messages": {
						"type": "array",
						"uniqueItems": true,
						"minItems": 1,
						"items": {
							"properties": {
								"id": {
									"type": "number"
								},
								"condition": {
									"type": "object",
									"properties": {
										"inputValue": {
											"type": "string",
											"minLength": 1,
											"enum": [
												"high", "low", "edgeUp", "edgeDown"
											]
										},
										"distanceActivatedMM": {
											"type": "number",
											"minimum": 0
										},
										"timeActivatedMS": {
											"type": "number",
											"minimum": 0
										}
									}
								},
								"type": {
									"type": "string",
									"minLength": 1,
									"enum": [
										"DigitalInput", "DigitalInputByte", "DigitalOutput", "DigitalOutputByte"
									]
								}
							}
						}
					}
				}
			},
			"magnet": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string",
						"minLength": 1
					},
					"type": {
						"type": "string",
						"default": "magnet",
						"minLength": 1,
						"enum": [
							"magnet"
						]
					},
					"quadrant": {
						"$ref": "#/definitions/List-def/quadrant"
					},
					"channels": {
						"$ref": "#/definitions/List-def/channels"
					}
				},
				"required": [
					"id", "type"
				]
			},
			"drive": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string",
						"minLength": 1
					},
					"name": {
						"type": "string",
						"minLength": 1
					},
					"driveAlwaysOn": {
						"type": "boolean",
						"default": false
					},
					"driveMinOffTimeMS": {
						"type": "number",
						"default": 0,
						"minimum": 0
					},
					"delayedStartMSec": {
						"type": "number",
						"default": 0,
						"minimum": 0
					},
					"decelerationTimeMS": {
						"type": "number",
						"default": 100,
						"minimum": 0
					},
					"motor": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"minLength": 1
							},
							"motorType": {
								"minLength": 1,
								"enum": [
									"Pistonmotor", "Bauer", "Lustmotor"
								]
							},
							"connection": {
								"minLength": 1,
								"enum": [
									"bottom", "belt", "default"
								],
								"default": "bottom"
							},
							"quadrant": {
								"$ref": "#/definitions/List-def/quadrant",
								"default": 4
							}
						},
						"required": [
							"id", "motorType"
						]
					},
					"encoder": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"minLength": 1
							},
							"encoderType": {
								"minLength": 1,
								"default": "pulseDisc",
								"enum": [
									"pulseDisc", "unknown"
								]
							},
							"pulseWidth": {
								"type": "number",
								"default": 49.0,
								"minimum": 0
							},
							"dutyCycle": {
								"type": "number",
								"default": 0.50,
								"minimum": 0
							},
							"quadrant": {
								"$ref": "#/definitions/List-def/quadrant",
								"default": 4
							}
						},
						"required": [
							"id", "encoderType", "pulseWidth"
						]
					},
					"thermalFail": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"minLength": 1
							},
							"name": {
								"type": "string",
								"minLength": 1
							},
							"normallyClosed": {
								"type": "boolean"
							}
						}
					}
				},
				"required": [
					"id"
				]
			},
			"externalDevice": {
				"type": "object",
				"properties": {
					"contiflowStarted": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string"
							}
						}
					},
					"contiflowStopped": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string"
							}
						}
					},
					"contiflowRunning": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string"
							}
						}
					}
				}
			},
			"externalDeviceMR": {
				"type": "object",
				"properties": {
					"MRIPAddress": {
						"type": "string",
						"minLength": 1
					},
					"MRPortNumber": {
						"type": "number"
					},
					"maximumPackageSize": {
						"type": "number"
					},
					"deviceEnabled": {
						"type": "boolean"
					},
					"deliverAllPacks": {
						"type": "boolean"
					},
					"permissionToDeliver": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"minLength": 1
							}
						}
					},
					"laneNumber": {
						"type": "number"
					}
				}
			},
			"externalDeviceOmnia": {
				"type": "object",
				"properties": {
					"packOk": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"minLength": 1
							}
						}
					},
					"laneFull": {
						"type": "object",
						"properties": {
							"id": {
								"type": "string",
								"minLength": 1
							},
							"normallyClosed": {
								"type": "boolean"
							}
						}
					},
					"laneNumber": {
						"type": "number"
					},
					"laneHTTPAddress": {
						"type": "string",
						"minLength": 1
					},
					"maxPackListSize": {
						"type": "number"
					}
				}
			}
		},
		"Controller-def": {
			"controllers": {
				"type": "array",
				"uniqueItems": true,
				"minItems": 1,
				"items": {
					"required": [
						"id", "type"
					],
					"additionalProperties": false,
					"properties": {
						"id": {
							"type": "string",
							"minLength": 1
						},
						"locationMachineId": {
							"type": "string"
						},
						"type": {
							"type": "string",
							"minLength": 1,
							"enum": [
								"light", "controlbox"
							]
						},
						"shape": {
							"type": "string",
							"minLength": 1,
							"enum": [
								"dome", "cone", "column"
							],
							"default": "dome"
						},
						"rightMM": {
							"type": "number"
						},
						"forwardMM": {
							"type": "number"
						},
						"rotateDegrees": {
							"type": "number"
						},
						"hardware": {
							"type": "array",
							"uniqueItems": true,
							"minItems": 1,
							"items": {
								"required": [
									"id", "type"
								],
								"anyOf": [
									{
										"$ref": "#/definitions/Hardware-def/buzzer"
									}, {
										"$ref": "#/definitions/Hardware-def/button"
									}, {
										"$ref": "#/definitions/Hardware-def/light"
									}
								],
								"properties": {
									"id": {
										"type": "string",
										"minLength": 1
									},
									"type": {
										"type": "string",
										"minLength": 1,
										"enum": [
											"buzzer", "light", "button"
										]
									}
								}
							}
						}
					}
				}
			}
		}
	},
	"additionalProperties": false,
	"properties": {
		"machine": {
			"properties": {
				"id": {
					"type": "string",
					"minLength": 1
				},
				"type": {
					"type": "string",
					"minLength": 1,
					"default" : "machine",
					"enum": [
						"machine"
					]
				},
				"hardware": {
					"type": "array",
					"uniqueItems": true,
					"items": {
						"required": [
							"id", "type"
						],
						"anyOf": [
							{
								"$ref": "#/definitions/Hardware-def/input"
							}, {
								"$ref": "#/definitions/Hardware-def/drive"
							}, {
								"$ref": "#/definitions/Machine-def/packinglaneset"
							}, {
								"$ref": "#/definitions/Hardware-def/externalDevice"
							}, {
								"$ref": "#/definitions/Hardware-def/externalDeviceMR"
							}, {
								"$ref": "#/definitions/Hardware-def/externalDeviceOmnia"
							}, {
								"$ref": "#/definitions/Hardware-def/button"
							}
						],
						"properties": {
							"id": {
								"type": "string",
								"minLength": 1
							},
							"type": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"drive", "input", "packinglaneset", "button", "externalDevice"
								]
							},
							"driveType": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"ABI", "MBS", "LUST", "Piston", "X64"
								]
							},
							"deviceType": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"OMNIA", "MR", "PRODUCT", "IO", "PTS"
								]
							},
							"normalMovementTime": {
								"type": "number"
							},
							"resetMovementTime": {
								"type": "number"
							},
							"lowDriveSpeed": {
								"type": "number",
								"default": 18.0,
								"minimum": 0
							},
							"normalDriveSpeed": {
								"type": "number",
								"default": 25.5,
								"minimum": 0
							},
							"highDriveSpeed": {
								"type": "number",
								"default": 40.0,
								"minimum": 0
							}
						}
					}
				},
				"handoverBehaviour": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"type": {
							"type": "string",
							"minLength": 1,
							"enum": [
								"crossing", "corner", "default"
							]
						},
						"shootOffset": {
							"type": "number"
						},
						"transferOffsetZ": {
							"type": "number"
						},
						"packRotation": {
							"type": "number"
						},
						"packDistance": {
							"type": "number"
						}
					},
					"required": [
						"type"
					]
				},
				"machines": {
					"type": "array",
					"uniqueItems": true,
					"items": {
						"anyOf": [
							{
								"$ref": "#/definitions/Machine-def/machine"
							}, {
								"$ref": "#/definitions/Machine-def/conveyor"
							}, {
								"$ref": "#/definitions/Machine-def/bufferconveyor"
							}, {
								"$ref": "#/definitions/Machine-def/rejectconveyor"
							}, {
								"$ref": "#/definitions/Machine-def/end_unit"
							}, {
								"$ref": "#/definitions/Machine-def/front_unit"
							}, {
								"$ref": "#/definitions/Machine-def/pushupconveyor"
							}, {
								"$ref": "#/definitions/Machine-def/crossconveyor"
							}, {
								"$ref": "#/definitions/Machine-def/cornerconveyor"
							}, {
								"$ref": "#/definitions/Machine-def/crossoverconveyor"
							}, {
								"$ref": "#/definitions/Machine-def/shootconveyor"
							}, {
								"$ref": "#/definitions/Machine-def/manualpickupconveyor"
							}
						],
						"properties": {
							"type": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"conveyor", "bufferconveyor", "rejectconveyor", "end_unit", "front_unit", "pushupconveyor", "crossconveyor", "cornerconveyor", "crossoverconveyor", "shootconveyor", "manualpickupconveyor"
								]
							}
						},
						"required": [
							"type"
						]
					}
				},
				"addOns": {
					"type": "array",
					"uniqueItems": true,
					"items": {
						"required": [
							"id", "type", "positionForwardMM"
						],
						"oneOf": [
							{
								"$ref": "#/definitions/AddOn-def/scanner"
							}, {
								"$ref": "#/definitions/AddOn-def/packAssignmentScanner"
							}, {
								"$ref": "#/definitions/AddOn-def/checkSpace"
							}, {
								"$ref": "#/definitions/AddOn-def/crossOver"
							}, {
								"$ref": "#/definitions/AddOn-def/openPack"
							}, {
								"$ref": "#/definitions/AddOn-def/bufferManager"
							}, {
								"$ref": "#/definitions/AddOn-def/pressureRoller"
							}, {
								"$ref": "#/definitions/AddOn-def/cover"
							}, {
								"$ref": "#/definitions/AddOn-def/lineSorter"
							}, {
								"$ref": "#/definitions/AddOn-def/missedPack"
							}, {
								"$ref": "#/definitions/AddOn-def/corner"
							}, {
								"$ref": "#/definitions/AddOn-def/packRotationUnit"
							}, {
								"$ref": "#/definitions/AddOn-def/trayRotationUnit"
							}, {
								"$ref": "#/definitions/AddOn-def/toplidder"
							}
						],
						"properties": {
							"id": {
								"type": "string",
								"minLength": 1
							},
							"type": {
								"type": "string",
								"minLength": 1,
								"enum": [
									"LineSorter", "openpack", "checkspace", "pressureroller", "scanner", "cover", "crossover", "corner", "missedpack", "buffermanager", "packassignmentscanner", "packRotationUnit", "TrayRotationUnit", "toplidder"
								]
							},
							"positionForwardMM": {
								"type": "number"
							},
							"quadrant": {
								"$ref": "#/definitions/List-def/quadrant"
							},
							"addOnLengthMM": {
								"type": "number"
							},
							"addOnHeightMM": {
								"type": "number"
							},
							"addOnWidthMM": {
								"type": "number"
							},
							"addOnType": {
								"type": "string"
							},
							"model": {
								"type": "string",
								"minLength": 1
							},
							"hardware": {
								"$ref": "#/definitions/List-def/hardware"
							}
						}
					}
				}
			}
		},
		"productControllers": {
			"type": "array",
			"uniqueItems": true,
			"minItems": 1,
			"items": {
				"required": [
					"id", "type"
				],
				"additionalProperties": false,
				"properties": {
					"id": {
						"type": "string",
						"minLength": 1
					},
					"name": {
						"type": "string",
						"minLength": 1
					},
					"type": {
						"type": "string",
						"minLength": 1,
						"enum": [
							"followTheMR", "followTheOmnia"
						]
					},
					"externalDeviceConveyorId": {
						"type": "string",
						"minLength": 1
					},
					"outputControllerConveyorId": {
						"type": "string",
						"minLength": 1
					},
					"maxProducts": {
						"type": "number"
					},
					"machineIds": {
						"type": "array",
						"uniqueItems": true,
						"minItems": 1,
						"items": {
							"required": [
								"id"
							],
							"additionalProperties": false,
							"properties": {
								"id": {
									"type": "string",
									"minLength": 1
								}
							}
						}
					}
				}
			}
        }
	},
	"required": [
		"machine"
	]
}
